(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7aa9c72"],{"20d4":function(e,t,s){},"2f76":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-4"},[s("section",[s("b-tabs",{attrs:{"content-class":"searching-before-inputting_content scrollbar","nav-class":"searching-before-inputting_header"}},[s("b-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 作成中 "),s("br"),e._v(" ("+e._s(e.totalElements)+") ")]},proxy:!0}])},[s("collapse",{staticClass:"px-4"},[s("template",{slot:"collapse-header"},[s("span",{staticClass:"pl-5"},[e._v("新規作成")])]),s("template",{slot:"collapse-body"},[s("b-container",{staticClass:"searchAdminPopup searchRequestPopup",attrs:{fluid:""}},[s("div",{staticClass:"body_padding_inputting_content_create"},[s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("h5",[e._v("請求タイプ")]),s("v-select",{staticClass:"table_requestList main-vselect",attrs:{options:e.searchType,reduce:function(e){return e.name},label:"name"},model:{value:e.typeName,callback:function(t){e.typeName=t},expression:"typeName"}})],1),s("b-col",{attrs:{cols:"3","align-self":"end"}},[s("b-button",{staticClass:"searchSupplyName float-right mb-1",attrs:{variant:"secondary",disabled:null===e.typeName},on:{click:function(t){e.showPopupSupply=!e.showPopupSupply}}},[e._v("取引先名検索")])],1),s("b-col",{attrs:{cols:"4"}},[s("h5",[e._v("取引先名")]),s("b-input",{attrs:{readonly:"",value:e.suppliersObject}})],1)],1)],1),s("b-row",{class:{"supplier_table_create tablerequestlist customScrollBar":!0,"mt-4":e.requestListReuse&&e.requestListReuse.length>0},on:{scroll:e.handleScroll}},[e.requestListReuse&&e.requestListReuse.length>0?s("b-table-simple",{staticClass:"m-0"},[s("b-tbody",e._l(e.requestListReuse,(function(t,a){return s("b-tr",{key:a},["販売未収金"===t.mstRequestTypesResponse.name&&t.requestAccountsReceivablesResponse?s("b-td",[e._v(" "+e._s(e.$moment(t["requestAccountsReceivablesResponse"]["targetOn"]).format("YYYY年MM月分"))+" ")]):"展示会・協賛"===t.mstRequestTypesResponse.name&&t.requestExhibitionPromotionsResponse?s("b-td",[e._v(" "+e._s(t.requestExhibitionPromotionsResponse.subject)+" ")]):"マネキン"===t.mstRequestTypesResponse.name&&t.requestMannequinPromotionsResponse?s("b-td",[e._v(" "+e._s(t.requestMannequinPromotionsResponse.subject)+" ")]):e._e(),s("b-td",{staticClass:"text-right pr-2"},[e._v("合計金額 :"+e._s(e.$_mixins_formatCurrentcy(t["billingAmount"]))+" - ")]),s("b-td",[s("b-button",{attrs:{variant:"none",to:"/account-receivables/create/"+t.cd+"/reuse"}},[s("i",{staticClass:"fas fa-recycle reuseIcon"})])],1)],1)})),1)],1):e._e()],1),s("b-row",{staticClass:"body_padding_inputting_content_create"},[s("b-col",{attrs:{cols:"12"}},[s("b-button",{staticClass:"create_new mt-3",attrs:{variant:"none"},on:{click:function(t){return e.$router.push("/account-receivables/create")}}},[e._v("新規作成する")])],1)],1)],1)],1)],2),s("div",{staticClass:"mt-2"},[s("request-display",{attrs:{"request-list":e.requestList,"is-update-list":e.isUpdateList},on:{"set-is-update-list":e.setIsUpdateList}}),s("b-pagination",{staticClass:"pt-3 pr-5",attrs:{align:"right","total-rows":e.totalElements,"per-page":e.pageSize},on:{change:function(t){return e.handlePage(t)}},model:{value:e.pageCurrent,callback:function(t){e.pageCurrent=t},expression:"pageCurrent"}})],1)],1)],1),e.showPopupSupply?s("SearchSupplyDialog",{on:{getSuplier:function(t){return e.getSupplier(t)}},model:{value:e.showPopupSupply,callback:function(t){e.showPopupSupply=t},expression:"showPopupSupply"}}):e._e()],1)])},n=[],i=(s("b0c0"),s("54ef")),r=(s("dc98"),s("6e8f")),o=s("d3a8"),u=s("7bba"),l=s("fb60"),c={name:"ResquestSearchBeforeInput",mixins:[i["a"]],data:function(){return{showPopupSupply:!1,searchType:[],typeName:null,suppliers:null,totalElements:0,wrapperRequest:new o["a"](7,0,"requestedAt","asc",20),requestList:[],pageCurrent:1,pageSize:20,isUpdateList:!1,isOverflowToInput:!1,requestListReuse:[]}},components:{RequestDisplay:r["default"]},methods:{getSupplier:function(e){var t=this;this.showPopupSupply=!1,this.suppliers=e;var s=this.$moment(new Date).subtract(1,"years").format("YYYY-MM-DD"),a="mstRequestTypesEntity.name=='"+this.typeName+"';mstTorihikiCd=='"+e.torihikiCd+"';billingOn>='"+s+"';requestedAt!=null;mstRequestStatusesEntity.name!='却下'";"販売未収金"===this.typeName?a+=";requestAccountsReceivablesEntities.cd!=null":"展示会・協賛"===this.typeName?a+=";requestExhibitionPromotionsEntities.cd!=null":"マネキン"===this.typeName&&(a+=";requestMannequinPromotionsEntities.cd!=null");var n="keyword="+a+"&sortField=requestedAt==DESC";l["a"].requestList(n).then((function(e){t.requestListReuse=e.data.content})).catch((function(e){console.log(e)}))},getRequestType:function(){var e=this;this.searchType.length||u["a"].getTypeSearchBeforeInput().then((function(t){e.searchType=t.data,e.typeName=t.data[0].name})).catch((function(e){console.log(e)}))},handleScroll:function(e){e.target.scrollHeight,e.target.scrollTop,e.target.clientHeight},getRequestList:function(e){var t=this;u["a"].getRequestList(e).then((function(e){t.requestList=e.data.content,t.totalElements=e.data.totalElements,t.pageSize=e.data.pageable.pageSize,t.pageCurrent=e.data.number+1,t.isUpdateList=!0})).catch((function(e){alert("getRequestList-Create: "+e)}))},setIsUpdateList:function(e){this.isUpdateList=e},handlePage:function(e){this.wrapperRequest.page=e-1,this.getRequestList(this.wrapperRequest)},goReuseAccountReceivable:function(e){return"/account-receivables/create/"+e+"/?mode=reuse"}},computed:{suppliersObject:function(){return this.suppliers?this.suppliers.torihiki1Nm+this.suppliers.torihiki2Nm:""}},created:function(){this.getRequestType(),this.getRequestList(this.wrapperRequest)}},p=c,h=(s("6e50"),s("2877")),d=Object(h["a"])(p,a,n,!1,null,"8822b61e",null);t["default"]=d.exports},"6e50":function(e,t,s){"use strict";var a=s("20d4"),n=s.n(a);n.a},d3a8:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s("d4ec"),n=s("cf3b"),i=function e(t,s,i,r,o){Object(a["a"])(this,e),this.type=t,this.page=s,this.field=i,this.orderBy=r,this.limit=o,this.filterRequest=new n["a"]}}}]);
//# sourceMappingURL=chunk-c7aa9c72.8f42e3e5.js.map